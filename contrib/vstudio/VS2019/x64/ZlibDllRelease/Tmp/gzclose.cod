; Listing generated by Microsoft (R) Optimizing Compiler Version 19.20.27525.0 

include listing.inc

INCLUDELIB OLDNAMES

COMM	?_OptionsStorage@?1??__local_stdio_scanf_options@@9@9:QWORD							; `__local_stdio_scanf_options'::`2'::_OptionsStorage
COMM	?_OptionsStorage@?1??__local_stdio_printf_options@@9@9:QWORD							; `__local_stdio_printf_options'::`2'::_OptionsStorage
_DATA	ENDS
__DB664BEB_corecrt_stdio_config@h DB 01H
__E28BBA23_corecrt_wstdio@h DB 01H
__4A1C29A8_stdio@h DB 01H
__95347B96_ctype@h DB 01H
__149DB6BE_basetsd@h DB 01H
__9CFFAB73_corecrt_memcpy_s@h DB 01H
__55B7CB8D_corecrt_wstring@h DB 01H
__2F7506B6_string@h DB 01H
__5BA8817F_winnt@h DB 01H
__8421AFE7_processthreadsapi@h DB 01H
__F192E00B_memoryapi@h DB 01H
__0DF854E2_winerror@h DB 01H
__940BF1C4_winbase@h DB 01H
__78A3E64A_stralign@h DB 01H
__0A201C5E_gzclose@c DB 01H
PUBLIC	gzclose
;	COMDAT pdata
pdata	SEGMENT
$pdata$gzclose DD imagerel $LN7
	DD	imagerel $LN7+121
	DD	imagerel $unwind$gzclose
;	COMDAT xdata
xdata	SEGMENT
$unwind$gzclose DD 021e01H
	DD	07006520aH
; Function compile flags: /Odtp /RTCsu
; File E:\cpython\externals\zlib-1.2.11\gzclose.c
;	COMDAT gzclose
_TEXT	SEGMENT
state$ = 32
tv71 = 40
file$ = 64
gzclose	PROC						; COMDAT

; 13   : {

$LN7:
  00000	48 89 4c 24 08	 mov	 QWORD PTR [rsp+8], rcx
  00005	57		 push	 rdi
  00006	48 83 ec 30	 sub	 rsp, 48			; 00000030H
  0000a	48 8b fc	 mov	 rdi, rsp
  0000d	b9 0c 00 00 00	 mov	 ecx, 12
  00012	b8 cc cc cc cc	 mov	 eax, -858993460		; ccccccccH
  00017	f3 ab		 rep stosd
  00019	48 8b 4c 24 40	 mov	 rcx, QWORD PTR [rsp+64]
  0001e	48 8d 0d 00 00
	00 00		 lea	 rcx, OFFSET FLAT:__2B8D9255_zutil@c
  00025	e8 00 00 00 00	 call	 __CheckForDebuggerJustMyCode

; 14   : #ifndef NO_GZCOMPRESS
; 15   :     gz_statep state;
; 16   : 
; 17   :     if (file == NULL)

  0002a	48 83 7c 24 40
	00		 cmp	 QWORD PTR file$[rsp], 0
  00030	75 07		 jne	 SHORT $LN2@gzclose

; 18   :         return Z_STREAM_ERROR;

  00032	b8 fe ff ff ff	 mov	 eax, -2
  00037	eb 3a		 jmp	 SHORT $LN1@gzclose
$LN2@gzclose:

; 19   :     state = (gz_statep)file;

  00039	48 8b 44 24 40	 mov	 rax, QWORD PTR file$[rsp]
  0003e	48 89 44 24 20	 mov	 QWORD PTR state$[rsp], rax

; 20   : 
; 21   :     return state->mode == GZ_READ ? gzclose_r(file) : gzclose_w(file);

  00043	48 8b 44 24 20	 mov	 rax, QWORD PTR state$[rsp]
  00048	81 78 18 4f 1c
	00 00		 cmp	 DWORD PTR [rax+24], 7247 ; 00001c4fH
  0004f	75 10		 jne	 SHORT $LN4@gzclose
  00051	48 8b 4c 24 40	 mov	 rcx, QWORD PTR file$[rsp]
  00056	e8 00 00 00 00	 call	 gzclose_r
  0005b	89 44 24 28	 mov	 DWORD PTR tv71[rsp], eax
  0005f	eb 0e		 jmp	 SHORT $LN5@gzclose
$LN4@gzclose:
  00061	48 8b 4c 24 40	 mov	 rcx, QWORD PTR file$[rsp]
  00066	e8 00 00 00 00	 call	 gzclose_w
  0006b	89 44 24 28	 mov	 DWORD PTR tv71[rsp], eax
$LN5@gzclose:
  0006f	8b 44 24 28	 mov	 eax, DWORD PTR tv71[rsp]
$LN1@gzclose:

; 22   : #else
; 23   :     return gzclose_r(file);
; 24   : #endif
; 25   : }

  00073	48 83 c4 30	 add	 rsp, 48			; 00000030H
  00077	5f		 pop	 rdi
  00078	c3		 ret	 0
gzclose	ENDP
_TEXT	ENDS
END
